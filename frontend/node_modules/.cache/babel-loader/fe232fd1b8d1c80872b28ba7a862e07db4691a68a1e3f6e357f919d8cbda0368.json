{"ast":null,"code":"import { AbstractParserWithWordBoundaryChecking } from \"../../../common/parsers/AbstractParserWithWordBoundary.js\";\nimport { assignSimilarDate } from \"../../../utils/dates.js\";\nimport * as references from \"../../../common/casualReferences.js\";\nconst PATTERN = /(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\\s*night)(?=\\W|$)/i;\nexport default class ENCasualDateParser extends AbstractParserWithWordBoundaryChecking {\n  innerPattern(context) {\n    return PATTERN;\n  }\n  innerExtract(context, match) {\n    let targetDate = context.refDate;\n    const lowerText = match[0].toLowerCase();\n    let component = context.createParsingComponents();\n    switch (lowerText) {\n      case \"now\":\n        component = references.now(context.reference);\n        break;\n      case \"today\":\n        component = references.today(context.reference);\n        break;\n      case \"yesterday\":\n        component = references.yesterday(context.reference);\n        break;\n      case \"tomorrow\":\n      case \"tmr\":\n      case \"tmrw\":\n        component = references.tomorrow(context.reference);\n        break;\n      case \"tonight\":\n        component = references.tonight(context.reference);\n        break;\n      case \"overmorrow\":\n        component = references.theDayAfter(context.reference, 2);\n        break;\n      default:\n        if (lowerText.match(/last\\s*night/)) {\n          if (targetDate.getHours() > 6) {\n            const previousDay = new Date(targetDate.getTime());\n            previousDay.setDate(previousDay.getDate() - 1);\n            targetDate = previousDay;\n          }\n          assignSimilarDate(component, targetDate);\n          component.imply(\"hour\", 0);\n        }\n        break;\n    }\n    component.addTag(\"parser/ENCasualDateParser\");\n    return component;\n  }\n}","map":{"version":3,"names":["AbstractParserWithWordBoundaryChecking","assignSimilarDate","references","PATTERN","ENCasualDateParser","innerPattern","context","innerExtract","match","targetDate","refDate","lowerText","toLowerCase","component","createParsingComponents","now","reference","today","yesterday","tomorrow","tonight","theDayAfter","getHours","previousDay","Date","getTime","setDate","getDate","imply","addTag"],"sources":["C:\\Users\\sampa\\Downloads\\myapp\\myapp\\myapp\\frontend\\node_modules\\chrono-node\\src\\locales\\en\\parsers\\ENCasualDateParser.ts"],"sourcesContent":["import { ParsingContext } from \"../../../chrono\";\nimport { ParsingComponents, ParsingResult } from \"../../../results\";\nimport { AbstractParserWithWordBoundaryChecking } from \"../../../common/parsers/AbstractParserWithWordBoundary\";\nimport { assignSimilarDate } from \"../../../utils/dates\";\nimport * as references from \"../../../common/casualReferences\";\n\nconst PATTERN = /(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\\s*night)(?=\\W|$)/i;\n\nexport default class ENCasualDateParser extends AbstractParserWithWordBoundaryChecking {\n    innerPattern(context: ParsingContext): RegExp {\n        return PATTERN;\n    }\n\n    innerExtract(context: ParsingContext, match: RegExpMatchArray): ParsingComponents | ParsingResult {\n        let targetDate = context.refDate;\n        const lowerText = match[0].toLowerCase();\n        let component = context.createParsingComponents();\n\n        switch (lowerText) {\n            case \"now\":\n                component = references.now(context.reference);\n                break;\n\n            case \"today\":\n                component = references.today(context.reference);\n                break;\n\n            case \"yesterday\":\n                component = references.yesterday(context.reference);\n                break;\n\n            case \"tomorrow\":\n            case \"tmr\":\n            case \"tmrw\":\n                component = references.tomorrow(context.reference);\n                break;\n\n            case \"tonight\":\n                component = references.tonight(context.reference);\n                break;\n\n            case \"overmorrow\":\n                component = references.theDayAfter(context.reference, 2);\n                break;\n\n            default:\n                if (lowerText.match(/last\\s*night/)) {\n                    if (targetDate.getHours() > 6) {\n                        const previousDay = new Date(targetDate.getTime());\n                        previousDay.setDate(previousDay.getDate() - 1);\n                        targetDate = previousDay;\n                    }\n\n                    assignSimilarDate(component, targetDate);\n                    component.imply(\"hour\", 0);\n                }\n                break;\n        }\n        component.addTag(\"parser/ENCasualDateParser\");\n        return component;\n    }\n}\n"],"mappings":"AAEA,SAASA,sCAAsC,QAAQ,2DAAyD;AAChH,SAASC,iBAAiB,QAAQ,yBAAuB;AACzD,OAAO,KAAKC,UAAU,MAAM,qCAAmC;AAE/D,MAAMC,OAAO,GAAG,kFAAkF;AAElG,eAAc,MAAOC,kBAAmB,SAAQJ,sCAAsC;EAClFK,YAAYA,CAACC,OAAuB;IAChC,OAAOH,OAAO;EAClB;EAEAI,YAAYA,CAACD,OAAuB,EAAEE,KAAuB;IACzD,IAAIC,UAAU,GAAGH,OAAO,CAACI,OAAO;IAChC,MAAMC,SAAS,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACI,WAAW,EAAE;IACxC,IAAIC,SAAS,GAAGP,OAAO,CAACQ,uBAAuB,EAAE;IAEjD,QAAQH,SAAS;MACb,KAAK,KAAK;QACNE,SAAS,GAAGX,UAAU,CAACa,GAAG,CAACT,OAAO,CAACU,SAAS,CAAC;QAC7C;MAEJ,KAAK,OAAO;QACRH,SAAS,GAAGX,UAAU,CAACe,KAAK,CAACX,OAAO,CAACU,SAAS,CAAC;QAC/C;MAEJ,KAAK,WAAW;QACZH,SAAS,GAAGX,UAAU,CAACgB,SAAS,CAACZ,OAAO,CAACU,SAAS,CAAC;QACnD;MAEJ,KAAK,UAAU;MACf,KAAK,KAAK;MACV,KAAK,MAAM;QACPH,SAAS,GAAGX,UAAU,CAACiB,QAAQ,CAACb,OAAO,CAACU,SAAS,CAAC;QAClD;MAEJ,KAAK,SAAS;QACVH,SAAS,GAAGX,UAAU,CAACkB,OAAO,CAACd,OAAO,CAACU,SAAS,CAAC;QACjD;MAEJ,KAAK,YAAY;QACbH,SAAS,GAAGX,UAAU,CAACmB,WAAW,CAACf,OAAO,CAACU,SAAS,EAAE,CAAC,CAAC;QACxD;MAEJ;QACI,IAAIL,SAAS,CAACH,KAAK,CAAC,cAAc,CAAC,EAAE;UACjC,IAAIC,UAAU,CAACa,QAAQ,EAAE,GAAG,CAAC,EAAE;YAC3B,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAACf,UAAU,CAACgB,OAAO,EAAE,CAAC;YAClDF,WAAW,CAACG,OAAO,CAACH,WAAW,CAACI,OAAO,EAAE,GAAG,CAAC,CAAC;YAC9ClB,UAAU,GAAGc,WAAW;UAC5B;UAEAtB,iBAAiB,CAACY,SAAS,EAAEJ,UAAU,CAAC;UACxCI,SAAS,CAACe,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9B;QACA;IACR;IACAf,SAAS,CAACgB,MAAM,CAAC,2BAA2B,CAAC;IAC7C,OAAOhB,SAAS;EACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}